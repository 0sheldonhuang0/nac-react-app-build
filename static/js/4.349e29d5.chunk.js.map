{"version":3,"sources":["Components/BasicNac/AuthInput.js"],"names":["require","useStyles","makeStyles","buttonArea","margin","root","flexGrow","display","paper","overflow","flexDirection","formLabel","padding","textAlign","inputEmpty","img","maxWidth","height","textStyle","textIndent","lineHeight","textJustify","AuthInput","classes","dispatch","useDispatch","storeSuccessedData","uploadData","type","successedData","className","container","spacing","item","xs","md","lg","component","id","label","variant","onClick","email","password","firebase","auth","createUserWithEmailAndPassword","then","user","console","log","alert","catch","error","errorCode","code","message","signUpWithEmailPassword","document","getElementById","value","color","signInWithEmailAndPassword","signInWithEmailPassword"],"mappings":"6QAcAA,EAAQ,KAGR,IAAMC,EAAYC,aAAW,iBAAO,CAClCC,WAAY,CACVC,OAAQ,oBAEVC,KAAM,CACJC,SAAU,EACVC,QAAS,QAEXC,MAAO,CACLD,QAAS,OACTE,SAAU,OACVC,cAAe,UAEjBC,UAAW,CACTC,QAAS,aACTC,UAAW,QAEbC,WAAY,CACVV,OAAQ,cAEVW,IAAK,CACHC,SAAU,OACVC,OAAQ,QAEVC,UAAW,CACTd,OAAQ,MACRe,WAAY,OACZC,WAAY,OACZP,UAAW,UACZQ,YAAa,uBAID,SAASC,IACtB,IAAMC,EAAUtB,IACVuB,EAAWC,cACXC,EAAqB,SAACC,GAC1BH,EAAS,CACPI,KAAM,oBACNC,cAAeF,KA6CnB,OACE,sBAAKG,UAAWP,EAAQlB,KAAxB,UACGqB,GAAmB,GACpB,eAAC,IAAD,CAAWV,SAAS,KAAKc,UAAWP,EAAQQ,UAA5C,UACE,eAAC,IAAD,CAAMA,WAAS,EAACC,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIN,UAAWP,EAAQf,MAAtD,SACE,qBAAKsB,UAAWP,EAAQL,UAAxB,SACE,cAAC,IAAD,0BAGJ,eAAC,IAAD,CAAMe,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIN,UAAWP,EAAQf,MAAtD,UACE,cAAC,IAAD,CAAW6B,UAAU,SAASP,UAAWP,EAAQZ,UAAjD,yCAGA,cAAC,IAAD,CACE2B,GAAG,iBACHC,MAAM,aACNX,KAAK,QACLE,UAAWP,EAAQT,gBAGvB,eAAC,IAAD,CAAMmB,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIN,UAAWP,EAAQf,MAAtD,UACE,cAAC,IAAD,CAAW6B,UAAU,SAASP,UAAWP,EAAQZ,UAAjD,0CAGA,cAAC,IAAD,CACE2B,GAAG,oBACHC,MAAM,qBACNX,KAAK,WACLE,UAAWP,EAAQT,mBAIzB,eAAC,IAAD,CAAKD,UAAU,SAAf,UACE,cAAC,IAAD,CACE2B,QAAQ,YACRV,UAAWP,EAAQpB,WACnBsC,QAAS,YA5EnB,SAAiCC,EAAOC,GACtCC,IACGC,OACAC,+BAA+BJ,EAAOC,GACtCI,MAAK,SAACC,GAELC,QAAQC,IAAIF,GACZG,MAAM,oDACNzB,GAAmB,MAEpB0B,OAAM,SAACC,GACN,IAAIC,EAAYD,EAAME,KACHF,EAAMG,QACzBP,QAAQC,IAAII,GACZH,MAAM,uDAiEAM,CAFYC,SAASC,eAAe,kBAAkBC,MACvCF,SAASC,eAAe,qBAAqBC,QALhE,gCAWA,cAAC,IAAD,CACEpB,QAAQ,YACRqB,MAAM,UACN/B,UAAWP,EAAQpB,WACnBsC,QAAS,YArEnB,SAAiCC,EAAOC,GACtCC,IACGC,OACAiB,2BAA2BpB,EAAOC,GAClCI,MAAK,SAACC,GAELC,QAAQC,IAAIF,GACZG,MAAM,kDACNzB,GAAmB,MAEpB0B,OAAM,SAACC,GACN,IAAIC,EAAYD,EAAME,KACHF,EAAMG,QACzBP,QAAQC,IAAII,GACZH,MACE,4JAyDIY,CAFYL,SAASC,eAAe,kBAAkBC,MACvCF,SAASC,eAAe,qBAAqBC,QANhE","file":"static/js/4.349e29d5.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Markdown from \"../Markdown\";\r\n\r\n// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport firebase from \"firebase/app\";\r\nrequire(\"firebase/auth\");\r\n\r\n// Initiale\r\nconst useStyles = makeStyles(() => ({\r\n  buttonArea: {\r\n    margin: \"0 10px 10px 10px\",\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n    display: \"flex\",\r\n  },\r\n  paper: {\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  formLabel: {\r\n    padding: \"0 0 10px 0\",\r\n    textAlign: \"left\",\r\n  },\r\n  inputEmpty: {\r\n    margin: \"0 0 15px 0\",\r\n  },\r\n  img: {\r\n    maxWidth: \"100%\",\r\n    height: \"auto\",\r\n  },\r\n  textStyle: {\r\n    margin: \"5px\",\r\n    textIndent: \"30px\",\r\n    lineHeight: \"30px\",\r\n    textAlign: \"justify\",\r\n  \ttextJustify: \"inter-ideograph\"\r\n  },\r\n}));\r\n\r\nexport default function AuthInput() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const storeSuccessedData = (uploadData) => {\r\n    dispatch({\r\n      type: \"ADD_UPLOADSUCCESS\",\r\n      successedData: uploadData,\r\n    });\r\n  };\r\n\r\n  // 注册用户\r\n  // 文档在此：https://firebase.google.com/docs/auth/web/start?authuser=0\r\n  function signUpWithEmailPassword(email, password) {\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((user) => {\r\n        // Signed in\r\n        console.log(user);\r\n        alert(\"大概注册成功了！\");\r\n        storeSuccessedData(true);\r\n      })\r\n      .catch((error) => {\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        console.log(errorCode);\r\n        alert(\"遇到了一些错误！\");\r\n      });\r\n  }\r\n\r\n  // 登录\r\n  function signInWithEmailPassword(email, password) {\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((user) => {\r\n        // Signed in\r\n        console.log(user);\r\n        alert(\"Vous vous êtes connecté avec succès !\");\r\n        storeSuccessedData(true);\r\n      })\r\n      .catch((error) => {\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        console.log(errorCode);\r\n        alert(\r\n          \"Vous avez rencontré des erreurs! Il se peut que le nom d'utilisateur / mot de passe soit incorrect ou que vous n'ayez pas enregistré de compte.\"\r\n        );\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {storeSuccessedData(false)}\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={12} md={12} lg={12} className={classes.paper}>\r\n            <div className={classes.textStyle}>\r\n              <Markdown>MdHelp1</Markdown>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={12} md={12} lg={12} className={classes.paper}>\r\n            <FormLabel component=\"legend\" className={classes.formLabel}>\r\n              Veuillez entrer votre email\r\n            </FormLabel>\r\n            <TextField\r\n              id=\"standard-email\"\r\n              label=\"Votre mail\"\r\n              type=\"email\"\r\n              className={classes.inputEmpty}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={12} lg={12} className={classes.paper}>\r\n            <FormLabel component=\"legend\" className={classes.formLabel}>\r\n              Veuillez entrer mot de passe\r\n            </FormLabel>\r\n            <TextField\r\n              id=\"standard-password\"\r\n              label=\"Votre mot de passe\"\r\n              type=\"password\"\r\n              className={classes.inputEmpty}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Box textAlign=\"center\">\r\n          <Button\r\n            variant=\"contained\"\r\n            className={classes.buttonArea}\r\n            onClick={() => {\r\n              var email = document.getElementById(\"standard-email\").value;\r\n              var password = document.getElementById(\"standard-password\").value;\r\n              signUpWithEmailPassword(email, password);\r\n            }}\r\n          >\r\n            CRÉER UN COMPTE\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.buttonArea}\r\n            onClick={() => {\r\n              var email = document.getElementById(\"standard-email\").value;\r\n              var password = document.getElementById(\"standard-password\").value;\r\n              signInWithEmailPassword(email, password);\r\n            }}\r\n          >\r\n            SE CONNECTER\r\n          </Button>\r\n        </Box>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}